<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Demo App</title>
    <script src="./telegram-web-app.js"></script>
    <script src="./alpine.js" defer></script>
</head>

<body x-data="data">
    <!-- <h1 x-text="'version ' + app.version"></h1>
    <h1 x-text="'platform ' + app.platform"></h1>
    <h1 x-text="'is Expanded ' + app.isExpanded"></h1> -->

    <div class="" x-data="{address: ''}">
        <input type="text" x-model="address">
        <button @click="()=>{
            app.sendData(address)
        }">send address</button>
    </div>

    <template x-for="k in Object.keys(app.initDataUnsafe.user)" key="k">
        <h2 x-text="k + ' = ' + app.initDataUnsafe.user[k]"></h2>
    </template>
    <script>
        const intiApp = Telegram.WebApp;

        document.addEventListener('alpine:init', () => {
            Alpine.data('data', (() => ({
                app: intiApp,
                init() {
                    this.app.ready()
                    this.app.expand()
                }

            })))

        })
    </script>
</body>

</html>